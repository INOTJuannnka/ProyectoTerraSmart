<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>TeRra-Smart - Mediciones</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

<div class="container-fluid">
  <div class="row">

    <!-- Sidebar -->
    <div class="col-md-4 col-lg-3 sidebar d-flex flex-column align-items-center py-4">
      <div class="text-center logo">
        <h2 class="fw-bold">
          <span class="green">T</span><span class="black">e</span><span class="brown">R</span><span class="black">ra-</span><span class="blue">S</span><span class="black">mart</span>
          <img src="https://emojinarium.com/img/microsoft/seedling_1f331.png" alt="Planta" style="width: 30px; height: 30px; vertical-align: middle;">
        </h2>
      </div>
      <a href="{% url 'inicio' %}" class="btn btn-success w-100 my-2">INICIO</a>
      <a href="{% url 'mediciones' %}" class="btn btn-success w-100 my-2">MEDICIONES</a>
      <a href="{% url 'recomendaciones' %}" class="btn btn-success w-100 my-2">RECOMENDACIONES</a> 
      <a href="{% url 'configuracion' %}" class="btn btn-success w-100 my-2">CONFIGURACION</a>
    </div>

    <!-- Main Content -->
    <div class="col-md-8 col-lg-9 main-content bg-white d-flex flex-column" style="min-height: 100vh;">
      <h2 class="fw-bold">MEDICIONES</h2>

      <form class="record-box" method="post" action="{% url 'mediciones' %}">
        {% csrf_token %}
        <div class="mb-3">
          <label for="nitrogeno" class="form-label">Nitrogeno</label>
          <input type="text" class="form-control" id="nitrogeno" name="nitrogeno">
        </div>
        <div class="mb-3">
          <label for="humedad" class="form-label">Humedad</label>
          <input type="text" class="form-control" id="humedad" name="humedad">
        </div>
        <div class="mb-3">
          <label for="ph" class="form-label">PH</label>
          <input type="text" class="form-control" id="ph" name="ph">
        </div>
        <div class="mb-3">
          <label for="potasio" class="form-label">Potasio</label>
          <input type="text" class="form-control" id="potasio" name="potasio">
        </div>
        <div class="mb-3">
          <label for="fosforo" class="form-label">Fósforo</label>
          <input type="text" class="form-control" id="fosforo" name="fosforo">
        </div>
        <button type="submit" name="accion" value="subir_manual" class="btn footer-btn mb-2">SUBIR DATOS</button>
        <div class="mb-3">
          <label for="archivo_mediciones" class="form-label">Subir archivo de mediciones</label>
          <input type="file" class="form-control" id="archivo_mediciones" name="archivo_mediciones" accept=".csv,.xlsx,.xls">
          <small class="form-text text-muted">Formatos aceptados: CSV, Excel</small>
        </div>
        <!-- Botones de acción -->
        
        <button type="submit" name="accion" value="subir_archivo" class="btn footer-btn mb-2">PROCESAR ARCHIVO</button>
      </form>
      
      <!-- Mostrar mensajes de error o éxito -->
      {% if messages %}
      <div class="messages mt-3">
          {% for message in messages %}
          <div class="alert alert-{% if message.tags == 'error' %}danger{% else %}{{ message.tags }}{% endif %} alert-dismissible fade show">
              {{ message }}
              <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
          </div>
          {% endfor %}
      </div>
      {% endif %}
      </form>


    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

<style>
  body {
    background-color: #f0f0f0;
  }
  .sidebar {
    background-color: #7ED957;
    min-height: 100vh;
  }
  .sidebar .btn {
    background-color: #009F53;
    color: white;
    margin: 10px 0;
    width: 100%;
  }
  .sidebar .btn:hover {
    background-color: #008e3c;
  }
  .main-content {
    padding: 30px;
  }
  .footer-btn {
    background-color: #00b050;
    color: white;
    width: 100%;
    font-weight: bold;
  }
  .footer-btn:hover {
    background-color: #008e3c;
  }
  .logo .green { color: #01FF00; }
  .logo .black { color: black; }
  .logo .brown { color: #7F6000; }
  .logo .blue { color: blue; }
  .logo h2 {
    font-size: 40px;
    font-weight: bold;
  }
  .record-box {
    border: 2px solid black;
    padding: 20px;
    max-width: 500px;
  }
</style>
</html>
